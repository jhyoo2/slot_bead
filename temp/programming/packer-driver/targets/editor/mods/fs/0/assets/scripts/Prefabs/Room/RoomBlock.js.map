{"version":3,"sources":["file:///Users/david/Desktop/David/cocos/slot_bead/assets/scripts/Prefabs/Room/RoomBlock.ts"],"names":["_decorator","Component","Node","tween","Vec3","UIOpacityComponent","Tween","AssetManager","CCUtils","ccclass","property","RoomBlock","placeable","occupied","onLoad","assetManager","getInstance","outerObject","active","getComponent","opacity","deActivateBlock","setRoomBlockType","roomType","roomBlockArray","blockData","activateBlock","stopAllByTag","tag","call","fadeIn","delay","fadeOut","start"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  UITransform,\n  Sprite,\n  Label,\n  tween,\n  instantiate,\n  Vec3,\n  UIOpacity,\n  UIOpacityComponent,\n  Tween,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\n\nimport AssetManager from \"../../DataManager/AssetManager\";\nimport { CCUtils } from \"../../Common/CCUtils\";\n\n@ccclass(\"RoomBlock\")\nexport default class RoomBlock extends Component {\n  assetManager: AssetManager = null;\n\n  @property(Node)\n  blockObject: Node = null;\n\n  @property(Node)\n  outerObject: Node = null;\n\n  @property(Node)\n  roomBlockArray: Node[] = [];\n\n  @property(Node)\n  roomLabelArray: Node[] = [];\n\n  roomType: number = null;\n  blockData = {\n    placeable: false,\n    occupied: false,\n  };\n  blockPosition = new Vec3(0, 0, 0);\n\n  async onLoad() {\n    this.assetManager = AssetManager.getInstance();\n    this.outerObject.active = false;\n    this.outerObject.getComponent(UIOpacityComponent).opacity = 0;\n    this.deActivateBlock();\n  }\n\n  setRoomBlockType(roomType) {\n    this.roomType = roomType;\n    this.roomBlockArray[0].active = false;\n    this.roomBlockArray[1].active = false;\n    this.roomBlockArray[2].active = false;\n    this.roomBlockArray[3].active = false;\n    this.roomBlockArray[4].active = false;\n    this.roomBlockArray[5].active = false;\n\n    if (roomType !== 99) {\n      this.blockData.placeable = true;\n    }\n\n    if (roomType === 0) {\n      // default\n      this.roomBlockArray[3].active = true;\n      this.roomBlockArray[4].active = true;\n      this.roomBlockArray[5].active = true;\n    } else if (roomType === 1) {\n      // only ground\n      this.roomBlockArray[0].active = true;\n    } else if (roomType === 2) {\n      // only left\n      this.roomBlockArray[1].active = true;\n    } else if (roomType === 3) {\n      // only right\n      this.roomBlockArray[2].active = true;\n    } else if (roomType === 4) {\n      // only left & ground\n      this.roomBlockArray[0].active = true;\n      this.roomBlockArray[1].active = true;\n    } else if (roomType === 5) {\n      // only right & ground\n      this.roomBlockArray[0].active = true;\n      this.roomBlockArray[2].active = true;\n    } else if (roomType === 6) {\n      // only left & right & ground\n      this.roomBlockArray[0].active = true;\n      this.roomBlockArray[1].active = true;\n      this.roomBlockArray[2].active = true;\n    } else if (roomType === 7) {\n      // only left & right\n      this.roomBlockArray[1].active = true;\n      this.roomBlockArray[2].active = true;\n    }\n  }\n  activateBlock() {\n    this.outerObject.getComponent(UIOpacityComponent).opacity = 255;\n    this.outerObject.active = true;\n    Tween.stopAllByTag(108, this.outerObject);\n    tween(this.outerObject)\n      .tag(108)\n      .call(() => {\n        CCUtils.fadeIn(this.outerObject, 0.2);\n      })\n      .delay(1.0)\n      .call(() => {\n        CCUtils.fadeOut(this.outerObject, 1);\n      })\n      .start();\n  }\n  deActivateBlock() {\n    this.outerObject.active = true;\n    Tween.stopAllByTag(108, this.outerObject);\n    tween(this.outerObject)\n      .call(() => {\n        CCUtils.fadeOut(this.outerObject, 0.01);\n      })\n      .start();\n  }\n}\n"]}