{"version":3,"sources":["file:///Users/david/Desktop/David/cocos/slot_deco/assets/scripts/Prefabs/Dice/SlotIcon.ts"],"names":["_decorator","Component","Node","UITransform","Sprite","Label","AssetManager","ccclass","property","SlotIcon","backKind","iconKind","rowIdx","initIcon","iconIdx","slotData","assetManager","getInstance","iconData","backNode","getComponent","setContentSize","iconSize","iconSprite","iconNode","spriteFrame","assetDic","backSprite","numberNode","string","String","updateNumber","crushIcon","time","sprite"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACEA,MAAAA,U,OAAAA,U;AACAC,MAAAA,S,OAAAA,S;AACAC,MAAAA,I,OAAAA,I;AACAC,MAAAA,W,OAAAA,W;AACAC,MAAAA,M,OAAAA,M;AACAC,MAAAA,K,OAAAA,K;;AAKKC,MAAAA,Y;;;;;;;OAFD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;yBAKTS,Q,WADpBF,OAAO,CAAC,UAAD,C,UAELC,QAAQ,CAACN,IAAD,C,UAERM,QAAQ,CAACN,IAAD,C,UAERM,QAAQ,CAACN,IAAD,C,oCANX,MACqBO,QADrB,SACsCR,SADtC,CACgD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,4CAQnC;AACTS,YAAAA,QAAQ,EAAE,CADD;AAETC,YAAAA,QAAQ,EAAE,CAFD;AAGTC,YAAAA,MAAM,EAAE;AAHC,WARmC;;AAAA,gDAajB,IAbiB;AAAA;;AAc9CC,QAAAA,QAAQ,CAACC,OAAD,EAAUJ,QAAV,EAAoBK,QAApB,EAA8B;AACpC,eAAKC,YAAL,GAAoB;AAAA;AAAA,4CAAaC,WAAb,EAApB;AACA,eAAKF,QAAL,GAAgBA,QAAhB;AACA,eAAKG,QAAL,CAAcP,QAAd,GAAyBG,OAAzB;AACA,eAAKI,QAAL,CAAcR,QAAd,GAAyBA,QAAzB;AACA,eAAKS,QAAL,CAAcC,YAAd,CAA2BjB,WAA3B,EAAwCkB,cAAxC,CAAuDN,QAAQ,CAACO,QAAhE;AACA,gBAAMC,UAAU,GAAG,KAAKC,QAAL,CAAcJ,YAAd,CAA2BhB,MAA3B,CAAnB;AACAmB,UAAAA,UAAU,CAACE,WAAX,GACE,KAAKT,YAAL,CAAkBU,QAAlB,CAA2B,gBAAgBZ,OAAhB,GAA0B,IAArD,CADF;AAEA,gBAAMa,UAAU,GAAG,KAAKR,QAAL,CAAcC,YAAd,CAA2BhB,MAA3B,CAAnB;AACAuB,UAAAA,UAAU,CAACF,WAAX,GAAyB,KAAKT,YAAL,CAAkBU,QAAlB,CAA2B,cAAchB,QAAzC,CAAzB;AACA,eAAKkB,UAAL,CAAgBR,YAAhB,CAA6Bf,KAA7B,EAAoCwB,MAApC,GAA6CC,MAAM,CAAC,KAAKZ,QAAL,CAAcN,MAAf,CAAnD;AACD;;AACDmB,QAAAA,YAAY,GAAG;AACb,eAAKH,UAAL,CAAgBR,YAAhB,CAA6Bf,KAA7B,EAAoCwB,MAApC,GAA6CC,MAAM,CAAC,KAAKZ,QAAL,CAAcN,MAAf,CAAnD;AACD;;AACDoB,QAAAA,SAAS,CAACC,IAAD,EAAO;AACd,gBAAMC,MAAM,GAAG,KAAKV,QAAL,CAAcJ,YAAd,CAA2BhB,MAA3B,CAAf;AACA8B,UAAAA,MAAM,CAACT,WAAP,GACE,KAAKT,YAAL,CAAkBU,QAAlB,CAA2B,gBAAgB,KAAKR,QAAL,CAAcP,QAA9B,GAAyC,IAApE,CADF,CAFc,CAId;AACA;AACA;AACA;AACA;AACA;AACD;;AAxC6C,O;;;;;iBAEtB,I;;;;;;;iBAEA,I;;;;;;;iBAEE,I","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  UITransform,\n  Sprite,\n  Label,\n  tween,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\n\nimport AssetManager from \"../../DataManager/AssetManager\";\n\n@ccclass(\"SlotIcon\")\nexport default class SlotIcon extends Component {\n  @property(Node)\n  backNode: Node | null = null;\n  @property(Node)\n  iconNode: Node | null = null;\n  @property(Node)\n  numberNode: Node | null = null;\n  slotData: any;\n  iconData = {\n    backKind: 0,\n    iconKind: 0,\n    rowIdx: 0,\n  };\n  assetManager: AssetManager = null;\n  initIcon(iconIdx, backKind, slotData) {\n    this.assetManager = AssetManager.getInstance();\n    this.slotData = slotData;\n    this.iconData.iconKind = iconIdx;\n    this.iconData.backKind = backKind;\n    this.backNode.getComponent(UITransform).setContentSize(slotData.iconSize);\n    const iconSprite = this.iconNode.getComponent(Sprite);\n    iconSprite.spriteFrame =\n      this.assetManager.assetDic[\"Slot/candy_\" + iconIdx + \"_0\"];\n    const backSprite = this.backNode.getComponent(Sprite);\n    backSprite.spriteFrame = this.assetManager.assetDic[\"Slot/back\" + backKind];\n    this.numberNode.getComponent(Label).string = String(this.iconData.rowIdx);\n  }\n  updateNumber() {\n    this.numberNode.getComponent(Label).string = String(this.iconData.rowIdx);\n  }\n  crushIcon(time) {\n    const sprite = this.iconNode.getComponent(Sprite);\n    sprite.spriteFrame =\n      this.assetManager.assetDic[\"Slot/candy_\" + this.iconData.iconKind + \"_1\"];\n    //     tween(this.iconNode)\n    //       .delay(time)\n    //       .to(0.2, { scale: 3.0 })\n    //       .delay(0.05)\n    //       .to(0.1, { scale: 0 })\n    //       .start();\n  }\n}\n"]}