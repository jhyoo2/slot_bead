{"version":3,"sources":["file:///Users/david/Desktop/David/cocos/slot_bead/assets/scripts/Prefabs/Deco/FileMaster.ts"],"names":["_decorator","Node","Vec3","ImageAsset","Sprite","SpriteFrame","Texture2D","UITransform","Size","Component","ScrollView","UITransformComponent","instantiate","AssetManager","uuidv4","FileTitle","ccclass","property","FileMaster","onLoad","assetManager","getInstance","initFileBox","initFileTitle","node","on","EventType","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","TOUCH_CANCEL","idxButton","setScale","inputBox","container","document","getElementById","containerId","createElement","body","appendChild","id","style","setProperty","inputBoxId","type","multiple","onchange","readFile","bind","fileButtonClicked","click","fileInput","uploadFiles","target","files","i","length","file","readerResult","readFileAsync","mimeType","match","indexOf","imgFile","readImgAsync","imgNode","getImgNode","object","img","tabIdx","selectedTab","placeObject","objectDic","event","setActiveObj","addImgObj","fileResult","imgResult","imgAsset","spriteFrame","tex","image","texture","prefabDic","getComponent","setContentSize","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","Image","src","objectLen","keys","Object","key","rowNum","columnNum","Math","floor","setPosition","contentNode","addChild","obj","activeObj","assign","insertChild","location","touch","getUILocation","setWorldPosition","x","y","scrollNode","vertical","activeFileTitle","fileTitles","fileTitleNode","setActive","abs","getWorldPosition","sceneScript","replaceDeco","simulate","fileTitle","addDecoData","tag","removeFromParent","labelArray","tagArray","setLabel","fileMaster","updateFileMaster","decoDic","decoDatas","placeType","push","yPosition","yDiff","fileDatas","replace","String","sort","a","b","zOrder","setFileData","titleSize","getTitleSize","decoContentNode","onFileSelected","fileData","onChangeOrder","kind","targetData","targetOrder","targetSibling","getSiblingIndex","fileSibling","setSiblingIndex","selectedTabClicked","idx","Number","active","removeObjDic","updateObjDic","console","log"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACEA,MAAAA,U,OAAAA,U;AACAC,MAAAA,I,OAAAA,I;AACAC,MAAAA,I,OAAAA,I;AACAC,MAAAA,U,OAAAA,U;AACAC,MAAAA,M,OAAAA,M;AACAC,MAAAA,W,OAAAA,W;AACAC,MAAAA,S,OAAAA,S;AACAC,MAAAA,W,OAAAA,W;AACAC,MAAAA,I,OAAAA,I;AACAC,MAAAA,S,OAAAA,S;AAEAC,MAAAA,U,OAAAA,U;AACAC,MAAAA,oB,OAAAA,oB;AACAC,MAAAA,W,OAAAA,W;;AAGKC,MAAAA,Y;;AAEEC,MAAAA,M,iBAAAA,M;;AACFC,MAAAA,S;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBjB,U;;yBAGTkB,U,WADpBF,OAAO,CAAC,YAAD,C,UAWLC,QAAQ,CAAChB,IAAD,C,UAKRgB,QAAQ,CAAChB,IAAD,C,UAKRgB,QAAQ,CAAChB,IAAD,C,UAERgB,QAAQ,CAAChB,IAAD,C,UAMRgB,QAAQ,CAAChB,IAAD,C,oCA7BX,MACqBiB,UADrB,SACwCT,SADxC,CACkD;AAAA;AAAA;;AAAA,gDACnB,IADmB;;AAAA,+CAEvB,IAFuB;;AAAA,2CAGZ,EAHY;;AAAA,4CAKrC,IALqC;;AAAA,8CAMnC,qBANmC;;AAAA,+CAOlC,iBAPkC;;AAAA;;AAAA,6CAYJ,EAZI;;AAAA;;AAAA,6CAiBpC,IAjBoC;;AAAA;;AAAA;;AAAA,mDAwB9B,IAxB8B;;AAAA,+CA2BlC,CA3BkC;;AAAA;AAAA;;AA+BpC,cAANU,MAAM,GAAG;AACb,eAAKC,YAAL,GAAoB;AAAA;AAAA,4CAAaC,WAAb,EAApB;AACA,eAAKC,WAAL;AACA,eAAKC,aAAL;AACA,eAAKC,IAAL,CAAUC,EAAV,CAAaxB,IAAI,CAACyB,SAAL,CAAeC,WAA5B,EAAyC,KAAKC,YAA9C,EAA4D,IAA5D,EAAkE,IAAlE;AACA,eAAKJ,IAAL,CAAUC,EAAV,CAAaxB,IAAI,CAACyB,SAAL,CAAeG,UAA5B,EAAwC,KAAKC,WAA7C,EAA0D,IAA1D,EAAgE,IAAhE;AACA,eAAKN,IAAL,CAAUC,EAAV,CAAaxB,IAAI,CAACyB,SAAL,CAAeK,SAA5B,EAAuC,KAAKC,UAA5C,EAAwD,IAAxD,EAA8D,IAA9D;AACA,eAAKR,IAAL,CAAUC,EAAV,CAAaxB,IAAI,CAACyB,SAAL,CAAeO,YAA5B,EAA0C,KAAKD,UAA/C,EAA2D,IAA3D,EAAiE,IAAjE,EAPa,CAQb;;AAEA,eAAKE,SAAL,CAAe,CAAf,EAAkBC,QAAlB,CAA2B,IAAIjC,IAAJ,CAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,CAA3B;AACA,eAAKgC,SAAL,CAAe,CAAf,EAAkBC,QAAlB,CAA2B,IAAIjC,IAAJ,CAAS,IAAT,EAAe,IAAf,EAAqB,IAArB,CAA3B;AACA,eAAKgC,SAAL,CAAe,CAAf,EAAkBC,QAAlB,CAA2B,IAAIjC,IAAJ,CAAS,IAAT,EAAe,IAAf,EAAqB,IAArB,CAA3B;AACD,SA5C+C,CA8ChD;;;AACAoB,QAAAA,WAAW,GAAG;AACZ,cAAI,CAAC,KAAKc,QAAV,EAAoB;AAClB,gBAAIC,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,KAAKC,WAA7B,CAAhB;AACAH,YAAAA,SAAS,GAAGC,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAZ;AACAH,YAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,SAA1B;AACAA,YAAAA,SAAS,CAACO,EAAV,GAAe,KAAKJ,WAApB;AACAH,YAAAA,SAAS,CAACQ,KAAV,CAAgBC,WAAhB,CAA4B,YAA5B,EAA0C,QAA1C;AACA,gBAAIV,QAAQ,GAAGE,QAAQ,CAACG,aAAT,CAAuB,OAAvB,CAAf;AACAL,YAAAA,QAAQ,CAACQ,EAAT,GAAc,KAAKG,UAAnB;AACAX,YAAAA,QAAQ,CAACY,IAAT,GAAgB,MAAhB;AACAZ,YAAAA,QAAQ,CAACa,QAAT,GAAoB,IAApB;AACAb,YAAAA,QAAQ,CAACc,QAAT,GAAoB,KAAKC,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAApB;AACAf,YAAAA,SAAS,CAACM,WAAV,CAAsBP,QAAtB;AACA,iBAAKA,QAAL,GAAgBA,QAAhB;AACD;AACF;;AACDiB,QAAAA,iBAAiB,GAAG;AAClB,cAAI,KAAKjB,QAAT,EAAmB;AACjB,iBAAKA,QAAL,CAAckB,KAAd;AACD;AACF;;AACa,cAARH,QAAQ,CAACI,SAAD,EAAY;AACxB,cAAIC,WAAW,GAAGD,SAAS,CAACE,MAAV,CAAiBC,KAAnC;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,WAAW,CAACI,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C,gBAAIE,IAAI,GAAGL,WAAW,CAACG,CAAD,CAAtB;AACA,gBAAIG,YAAY,GAAI,MAAM,KAAKC,aAAL,CAAmBF,IAAnB,CAA1B;AACA,kBAAMG,QAAQ,GAAGF,YAAY,CAACG,KAAb,CACf,2CADe,EAEf,CAFe,CAAjB;;AAGA,gBAAID,QAAQ,CAACE,OAAT,CAAiB,OAAjB,IAA4B,CAAhC,EAAmC;AACjC;AACD;;AACD,gBAAIC,OAAO,GAAI,MAAM,KAAKC,YAAL,CAAkBN,YAAlB,CAArB;AACA,kBAAMO,OAAO,GAAG,KAAKC,UAAL,CAAgBH,OAAhB,CAAhB,CAV2C,CAW3C;AACA;AAEA;;AACA,kBAAMI,MAAkB,GAAG,EAA3B;AACAA,YAAAA,MAAM,CAAC3B,EAAP,GAAY;AAAA;AAAA,mCAAZ;AACA2B,YAAAA,MAAM,CAACP,QAAP,GAAkBA,QAAlB;AACAO,YAAAA,MAAM,CAACV,IAAP,GAAcC,YAAd;AACAS,YAAAA,MAAM,CAACC,GAAP,GAAaL,OAAb;AACAI,YAAAA,MAAM,CAAC/C,IAAP,GAAc6C,OAAd;AACAE,YAAAA,MAAM,CAACE,MAAP,GAAgB,KAAKC,WAArB;AACA,iBAAKC,WAAL,CAAiBN,OAAjB,EAA0B,KAAKK,WAA/B;AACA,iBAAKE,SAAL,CAAeL,MAAM,CAAC3B,EAAtB,IAA4B2B,MAA5B;AACAF,YAAAA,OAAO,CAAC5C,EAAR,CACExB,IAAI,CAACyB,SAAL,CAAeC,WADjB,EAEGkD,KAAD,IAAW;AACT,mBAAKC,YAAL,CAAkBP,MAAlB,EAA0BM,KAA1B;AACD,aAJH,EAKE,IALF,EAME,IANF;AAQD,WAlCuB,CAmCxB;;AACD;;AACDE,QAAAA,SAAS,CAACC,UAAD,EAAaP,MAAb,EAAqB;AAC5B,gBAAMJ,OAAO,GAAG,KAAKC,UAAL,CAAgBU,UAAU,CAACb,OAA3B,CAAhB;AACA,gBAAMI,MAAkB,GAAG,EAA3B;AACAA,UAAAA,MAAM,CAAC3B,EAAP,GAAY;AAAA;AAAA,iCAAZ;AACA2B,UAAAA,MAAM,CAACP,QAAP,GAAkB,KAAlB;AACAO,UAAAA,MAAM,CAACV,IAAP,GAAcmB,UAAU,CAAClB,YAAzB;AACAS,UAAAA,MAAM,CAACC,GAAP,GAAaQ,UAAU,CAACb,OAAxB;AACAI,UAAAA,MAAM,CAAC/C,IAAP,GAAc6C,OAAd;AACAE,UAAAA,MAAM,CAACE,MAAP,GAAgBA,MAAhB;AACA,eAAKE,WAAL,CAAiBN,OAAjB,EAA0BI,MAA1B;AACA,eAAKG,SAAL,CAAeL,MAAM,CAAC3B,EAAtB,IAA4B2B,MAA5B;AACAF,UAAAA,OAAO,CAAC5C,EAAR,CACExB,IAAI,CAACyB,SAAL,CAAeC,WADjB,EAEGkD,KAAD,IAAW;AACT,iBAAKC,YAAL,CAAkBP,MAAlB,EAA0BM,KAA1B;AACD,WAJH,EAKE,IALF,EAME,IANF;AAQD,SA5H+C,CA8HhD;;;AACAP,QAAAA,UAAU,CAACW,SAAD,EAAY;AACpB;AACA,gBAAMC,QAAQ,GAAG,IAAI/E,UAAJ,CAAe8E,SAAf,CAAjB;AACA,gBAAME,WAAW,GAAG,IAAI9E,WAAJ,EAApB;AACA,gBAAM+E,GAAG,GAAG,IAAI9E,SAAJ,EAAZ;AACA8E,UAAAA,GAAG,CAACC,KAAJ,GAAYH,QAAZ;AACAC,UAAAA,WAAW,CAACG,OAAZ,GAAsBF,GAAtB,CANoB,CAQpB;;AACA,gBAAM5D,IAAI,GAAGZ,WAAW,CAAC,KAAKQ,YAAL,CAAkBmE,SAAlB,CAA4B,WAA5B,CAAD,CAAxB;AACA/D,UAAAA,IAAI,CAACgE,YAAL,CAAkBpF,MAAlB,EAA0B+E,WAA1B,GAAwCA,WAAxC;AACA3D,UAAAA,IAAI,CAACgE,YAAL,CAAkBjF,WAAlB,EAA+BkF,cAA/B,CAA8C,IAAIjF,IAAJ,CAAS,GAAT,EAAc,GAAd,CAA9C;AACA,iBAAOgB,IAAP;AACD;;AACDuC,QAAAA,aAAa,CAACF,IAAD,EAAO;AAClB,iBAAO,IAAI6B,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,gBAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,YAAAA,MAAM,CAACE,MAAP,GAAgB,MAAM;AACpBJ,cAAAA,OAAO,CAACE,MAAM,CAACG,MAAR,CAAP;AACD,aAFD;;AAGAH,YAAAA,MAAM,CAACI,OAAP,GAAiBL,MAAjB,CALsC,CAMtC;;AACAC,YAAAA,MAAM,CAACK,aAAP,CAAqBrC,IAArB;AACD,WARM,CAAP;AASD;;AACDO,QAAAA,YAAY,CAACY,UAAD,EAAa;AACvB,iBAAO,IAAIU,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,gBAAIpB,GAAG,GAAG,IAAI2B,KAAJ,EAAV;;AACA3B,YAAAA,GAAG,CAACuB,MAAJ,GAAa,MAAM;AACjBJ,cAAAA,OAAO,CAACnB,GAAD,CAAP;AACD,aAFD;;AAGAA,YAAAA,GAAG,CAACyB,OAAJ,GAAcL,MAAd;AACApB,YAAAA,GAAG,CAAC4B,GAAJ,GAAUpB,UAAV;AACD,WAPM,CAAP;AAQD;;AACDL,QAAAA,WAAW,CAACN,OAAD,EAAUI,MAAV,EAAkB;AAC3B,cAAI4B,SAAS,GAAG,CAAhB;AACA,gBAAMC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAY,KAAK1B,SAAjB,CAAb;;AACA,eAAK,IAAIjB,CAAT,IAAc2C,IAAd,EAAoB;AAClB,kBAAME,GAAG,GAAGF,IAAI,CAAC3C,CAAD,CAAhB;;AACA,gBAAI,KAAKiB,SAAL,CAAe4B,GAAf,EAAoB/B,MAApB,IAA8BA,MAAlC,EAA0C;AACxC4B,cAAAA,SAAS;AACV;AACF;;AACD,gBAAMI,MAAM,GAAGJ,SAAS,GAAG,CAA3B;AACA,gBAAMK,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWP,SAAS,GAAG,CAAvB,CAAlB;AACAhC,UAAAA,OAAO,CAACwC,WAAR,CACE,IAAI3G,IAAJ,CAAS,MAAMuG,MAAM,GAAG,GAAxB,EAA6B,CAAC,GAAD,GAAOC,SAAS,GAAG,GAAhD,EAAqD,CAArD,CADF;AAGA,eAAKI,WAAL,CAAiBrC,MAAjB,EAAyBsC,QAAzB,CAAkC1C,OAAlC;AACA,eAAKyC,WAAL,CAAiBrC,MAAjB,EACGe,YADH,CACgBjF,WADhB,EAEGkF,cAFH,CAEkB,IAAIjF,IAAJ,CAAS,GAAT,EAAc,MAAMkG,SAAS,GAAG,GAAhC,CAFlB,EAf2B,CAkB3B;AACD,SArL+C,CAuLhD;;;AACA5B,QAAAA,YAAY,CAACkC,GAAD,EAAkBnC,KAAlB,EAAyB;AACnC,eAAKoC,SAAL,GAAiBV,MAAM,CAACW,MAAP,CAAc,EAAd,EAAkBF,GAAlB,CAAjB;AACA,gBAAM3C,OAAO,GAAG,KAAKC,UAAL,CAAgB0C,GAAG,CAACxC,GAApB,CAAhB;AACA,eAAKhD,IAAL,CAAU2F,WAAV,CAAsB9C,OAAtB,EAA+B,EAA/B;AACA,eAAK4C,SAAL,CAAezF,IAAf,GAAsB6C,OAAtB;AACA,gBAAM+C,QAAQ,GAAGvC,KAAK,CAACwC,KAAN,CAAYC,aAAZ,EAAjB;AACA,eAAKL,SAAL,CAAezF,IAAf,CAAoB+F,gBAApB,CAAqC,IAAIrH,IAAJ,CAASkH,QAAQ,CAACI,CAAlB,EAAqBJ,QAAQ,CAACK,CAA9B,EAAiC,CAAjC,CAArC;AAEE,eAAKC,UAAL,CAAgB,KAAKhD,WAArB,EAAkCc,YAAlC,CAA+C9E,UAA/C,CADF,CAEEiH,QAFF,GAEa,KAFb;AAGD;;AAED/F,QAAAA,YAAY,CAACiD,KAAD,EAAQ;AAClB,cAAI,KAAKoC,SAAT,EAAoB;AAClB,kBAAMG,QAAQ,GAAGvC,KAAK,CAACwC,KAAN,CAAYC,aAAZ,EAAjB;AACA,iBAAKL,SAAL,CAAezF,IAAf,CAAoB+F,gBAApB,CAAqC,IAAIrH,IAAJ,CAASkH,QAAQ,CAACI,CAAlB,EAAqBJ,QAAQ,CAACK,CAA9B,EAAiC,CAAjC,CAArC;AACD;AACF;;AAED3F,QAAAA,WAAW,CAAC+C,KAAD,EAAQ;AACjB,cAAI,KAAKoC,SAAT,EAAoB;AAClB,kBAAMG,QAAQ,GAAGvC,KAAK,CAACwC,KAAN,CAAYC,aAAZ,EAAjB;AACA,iBAAKL,SAAL,CAAezF,IAAf,CAAoB+F,gBAApB,CAAqC,IAAIrH,IAAJ,CAASkH,QAAQ,CAACI,CAAlB,EAAqBJ,QAAQ,CAACK,CAA9B,EAAiC,CAAjC,CAArC;;AACA,gBAAIL,QAAQ,CAACI,CAAT,IAAc,GAAlB,EAAuB;AACrB,mBAAKI,eAAL,GAAuB,IAAvB;;AACA,mBAAK,IAAIjE,CAAT,IAAc,KAAKkE,UAAnB,EAA+B;AAC7B,sBAAMC,aAAa,GAAG,KAAKD,UAAL,CAAgBlE,CAAhB,CAAtB;AACCmE,gBAAAA,aAAa,CAACtC,YAAd;AAAA;AAAA,2CAAD,CAAqDuC,SAArD,CAA+D,KAA/D;;AACA,oBAAIpB,IAAI,CAACqB,GAAL,CAASF,aAAa,CAACG,gBAAd,GAAiCR,CAAjC,GAAqCL,QAAQ,CAACK,CAAvD,KAA6D,EAAjE,EAAqE;AACnE,uBAAKG,eAAL,GAAuBE,aAAvB;AACD;AACF;;AACD,kBAAI,KAAKF,eAAT,EAA0B;AACvB,qBAAKA,eAAL,CAAqBpC,YAArB;AAAA;AAAA,2CAAD,CAA4DuC,SAA5D,CACE,IADF;AAGD;AACF,aAdD,MAcO,IAAIX,QAAQ,CAACI,CAAT,IAAc,IAAlB,EAAwB;AAC7B,mBAAKU,WAAL,CAAiBC,WAAjB,CAA6B,WAA7B,EAA0Cf,QAA1C;AACD;AACF;AACF;;AACDpF,QAAAA,UAAU,CAAC6C,KAAD,EAAQ;AAChB;AACA,cAAI,CAACA,KAAK,CAACuD,QAAP,IAAmB,KAAKnB,SAA5B,EAAuC;AACrC,gBAAI,KAAKW,eAAT,EAA0B;AACxB,oBAAMS,SAAS,GAAG,KAAKT,eAAL,CAAqBpC,YAArB;AAAA;AAAA,yCAAlB;AAGA6C,cAAAA,SAAS,CAACN,SAAV,CAAoB,KAApB;AACA,mBAAKO,WAAL,CAAiB,KAAKrB,SAAtB,EAAiCoB,SAAS,CAACE,GAA3C;AACA,mBAAKX,eAAL,GAAuB,IAAvB;AACD;;AACD,gBAAI,KAAKX,SAAL,CAAezF,IAAnB,EAAyB;AACvB,mBAAKyF,SAAL,CAAezF,IAAf,CAAoBgH,gBAApB;AACD,aAXoC,CAYrC;;;AACA,kBAAMpB,QAAQ,GAAGvC,KAAK,CAACwC,KAAN,CAAYC,aAAZ,EAAjB;;AACA,gBAAIF,QAAQ,CAACI,CAAT,IAAc,IAAlB,EAAwB;AACtB,mBAAKU,WAAL,CAAiBC,WAAjB,CAA6B,UAA7B,EAAyCf,QAAzC,EAAmD,KAAKH,SAAxD;AACD;;AACD,iBAAKA,SAAL,GAAiB,IAAjB;AAEE,iBAAKS,UAAL,CAAgB,KAAKhD,WAArB,EAAkCc,YAAlC,CAA+C9E,UAA/C,CADF,CAEEiH,QAFF,GAEa,IAFb;AAGD;AACF,SA1P+C,CA2PhD;;;AACApG,QAAAA,aAAa,GAAG;AACd,gBAAMkH,UAAU,GAAG,CAAC,OAAD,EAAU,OAAV,EAAmB,SAAnB,EAA8B,UAA9B,CAAnB;AACA,gBAAMC,QAAQ,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAAjB;;AACA,eAAK,IAAI/E,CAAT,IAAc,KAAKkE,UAAnB,EAA+B;AAC7B,kBAAMQ,SAAS,GAAG,KAAKR,UAAL,CAAgBlE,CAAhB,EAAmB6B,YAAnB;AAAA;AAAA,uCAAlB;AACA6C,YAAAA,SAAS,CAACM,QAAV,CAAmBF,UAAU,CAAC9E,CAAD,CAA7B;AACA0E,YAAAA,SAAS,CAACE,GAAV,GAAgBG,QAAQ,CAAC/E,CAAD,CAAxB;AACA0E,YAAAA,SAAS,CAACO,UAAV,GAAuB,IAAvB;AACD;AACF;;AACDN,QAAAA,WAAW,CAACtB,GAAD,EAAMuB,GAAN,EAAW;AACpB,cAAI,KAAKL,WAAT,EAAsB;AACpB,iBAAKA,WAAL,CAAiBI,WAAjB,CAA6BtB,GAA7B,EAAkCuB,GAAlC;AACD;AACF;;AACDM,QAAAA,gBAAgB,GAAG;AACjB;AACA,gBAAMvC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAY,KAAKwC,OAAjB,CAAb;AACA,gBAAMC,SAAS,GAAG,EAAlB;AACAA,UAAAA,SAAS,CAAC,IAAD,CAAT,GAAkB,EAAlB;AACAA,UAAAA,SAAS,CAAC,IAAD,CAAT,GAAkB,EAAlB;AACAA,UAAAA,SAAS,CAAC,IAAD,CAAT,GAAkB,EAAlB;AACAA,UAAAA,SAAS,CAAC,IAAD,CAAT,GAAkB,EAAlB;;AACA,eAAK,IAAIpF,CAAT,IAAc2C,IAAd,EAAoB;AAClB,kBAAM0C,SAAS,GAAG,KAAKF,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,EAAsBqF,SAAxC;AACAD,YAAAA,SAAS,CAACC,SAAD,CAAT,CAAqBC,IAArB,CAA0B,KAAKH,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,CAA1B;AACD,WAXgB,CAYjB;;;AACA,gBAAM8E,UAAU,GAAG,CAAC,QAAD,EAAW,QAAX,EAAqB,UAArB,EAAiC,WAAjC,CAAnB;AACA,gBAAMC,QAAQ,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAAjB;AACA,cAAIQ,SAAS,GAAG,CAAC,GAAjB;AACA,gBAAMC,KAAK,GAAG,EAAd;;AACA,eAAK,IAAIxF,CAAT,IAAc,KAAKkE,UAAnB,EAA+B;AAC7B,kBAAMQ,SAAS,GAAG,KAAKR,UAAL,CAAgBlE,CAAhB,EAAmB6B,YAAnB;AAAA;AAAA,uCAAlB;AACA,kBAAM4D,SAAS,GAAGL,SAAS,CAACL,QAAQ,CAAC/E,CAAD,CAAT,CAA3B;AACA0E,YAAAA,SAAS,CAACM,QAAV,CAAmBF,UAAU,CAAC9E,CAAD,CAAV,CAAc0F,OAAd,CAAsB,IAAtB,EAA4BC,MAAM,CAACF,SAAS,CAACxF,MAAX,CAAlC,CAAnB;AAEAwF,YAAAA,SAAS,CAACG,IAAV,CAAe,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACE,MAAF,GAAWD,CAAC,CAACC,MAAb,IAAuB,CAAxB,IAA8B,CAAC,CAAxD;AACArB,YAAAA,SAAS,CAACsB,WAAV,CAAsBP,SAAtB;AAEA,iBAAKvB,UAAL,CAAgBlE,CAAhB,EAAmBkD,WAAnB,CAA+B,IAAI3G,IAAJ,CAAS,CAAT,EAAYgJ,SAAZ,EAAuB,CAAvB,CAA/B;AACA,kBAAMU,SAAS,GAAGvB,SAAS,CAACwB,YAAV,EAAlB;AACAX,YAAAA,SAAS,GAAGA,SAAS,GAAGC,KAAZ,GAAoBS,SAAS,CAACnC,CAA1C;AACD;;AACD,eAAKqC,eAAL,CACGtE,YADH,CACgB7E,oBADhB,EAEG8E,cAFH,CAEkB,IAAIjF,IAAJ,CAAS,GAAT,EAAc,CAAC0I,SAAf,CAFlB;AAGD;;AACDa,QAAAA,cAAc,CAACC,QAAD,EAAW;AACvB,cAAI,KAAK9B,WAAT,EAAsB;AACpB,iBAAKA,WAAL,CAAiB6B,cAAjB,CAAgCC,QAAhC;AACD;AACF;;AACDC,QAAAA,aAAa,CAACD,QAAD,EAAiBE,IAAjB,EAAuB;AAClC,gBAAMlB,SAAS,GAAGgB,QAAQ,CAAChB,SAA3B;AACA,gBAAMU,MAAM,GAAGM,QAAQ,CAACN,MAAxB;AACA,cAAIS,UAAuB,GAAG,IAA9B;;AACA,cAAID,IAAI,IAAI,IAAZ,EAAkB;AAChB,kBAAM5D,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAY,KAAKwC,OAAjB,CAAb;AACA,gBAAIsB,WAAW,GAAG,CAAlB;;AACA,iBAAK,IAAIzG,CAAT,IAAc2C,IAAd,EAAoB;AAClB,kBAAI0C,SAAS,IAAI,KAAKF,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,EAAsBqF,SAAvC,EAAkD;AAChD,oBACE,KAAKF,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,EAAsB+F,MAAtB,GAA+BU,WAA/B,IACA,KAAKtB,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,EAAsB+F,MAAtB,GAA+BA,MAFjC,EAGE;AACAU,kBAAAA,WAAW,GAAG,KAAKtB,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,EAAsB+F,MAApC;AACAS,kBAAAA,UAAU,GAAG,KAAKrB,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,CAAb;AACD;AACF;AACF;AACF,WAdD,MAcO,IAAIuG,IAAI,IAAI,MAAZ,EAAoB;AACzB,kBAAM5D,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAY,KAAKwC,OAAjB,CAAb;AACA,gBAAIsB,WAAW,GAAG,GAAlB;;AACA,iBAAK,IAAIzG,CAAT,IAAc2C,IAAd,EAAoB;AAClB,kBAAI0C,SAAS,IAAI,KAAKF,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,EAAsBqF,SAAvC,EAAkD;AAChD,oBACE,KAAKF,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,EAAsB+F,MAAtB,GAA+BU,WAA/B,IACA,KAAKtB,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,EAAsB+F,MAAtB,GAA+BA,MAFjC,EAGE;AACAU,kBAAAA,WAAW,GAAG,KAAKtB,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,EAAsB+F,MAApC;AACAS,kBAAAA,UAAU,GAAG,KAAKrB,OAAL,CAAaxC,IAAI,CAAC3C,CAAD,CAAjB,CAAb;AACD;AACF;AACF;AACF,WAhCiC,CAiClC;;;AACA,cAAIwG,UAAJ,EAAgB;AACd,kBAAMC,WAAW,GAAGD,UAAU,CAACT,MAA/B;AACA,kBAAMW,aAAa,GAAGF,UAAU,CAAC3I,IAAX,CAAgB8I,eAAhB,EAAtB;AACA,kBAAMC,WAAW,GAAGP,QAAQ,CAACxI,IAAT,CAAc8I,eAAd,EAApB;AACAN,YAAAA,QAAQ,CAACN,MAAT,GAAkBU,WAAlB;AACAD,YAAAA,UAAU,CAACT,MAAX,GAAoBA,MAApB;AACAM,YAAAA,QAAQ,CAACxI,IAAT,CAAcgJ,eAAd,CAA8BH,aAA9B;AACAF,YAAAA,UAAU,CAAC3I,IAAX,CAAgBgJ,eAAhB,CAAgCD,WAAhC;AACA,iBAAK1B,gBAAL;AACD;AACF,SA7V+C,CA8VhD;;;AACA4B,QAAAA,kBAAkB,CAACjJ,IAAD,EAAOkJ,GAAP,EAAY;AAC5B,gBAAMjG,MAAM,GAAGkG,MAAM,CAACD,GAAD,CAArB;AACA,eAAKhG,WAAL,GAAmBD,MAAnB;;AACA,eAAK,IAAId,CAAT,IAAc,KAAK+D,UAAnB,EAA+B;AAC7B,iBAAKA,UAAL,CAAgB/D,CAAhB,EAAmBiH,MAAnB,GAA4B,KAA5B;AACA,iBAAK1I,SAAL,CAAeyB,CAAf,EAAkBxB,QAAlB,CAA2B,IAAIjC,IAAJ,CAAS,IAAT,EAAe,IAAf,EAAqB,IAArB,CAA3B;AACD;;AACD,eAAKwH,UAAL,CAAgBgD,GAAhB,EAAqBE,MAArB,GAA8B,IAA9B;AACA,eAAK1I,SAAL,CAAewI,GAAf,EAAoBvI,QAApB,CAA6B,IAAIjC,IAAJ,CAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,CAA7B;AACD;;AACD2K,QAAAA,YAAY,GAAG;AACb,gBAAMvE,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAY,KAAK1B,SAAjB,CAAb;;AACA,eAAK,IAAIjB,CAAT,IAAc2C,IAAd,EAAoB;AAClB,kBAAME,GAAG,GAAGF,IAAI,CAAC3C,CAAD,CAAhB;AACA,kBAAMY,MAAM,GAAG,KAAKK,SAAL,CAAe4B,GAAf,CAAf;;AACA,gBAAIjC,MAAM,CAAC/C,IAAX,EAAiB;AACf+C,cAAAA,MAAM,CAAC/C,IAAP,CAAYgH,gBAAZ;AACD;;AACD,mBAAO,KAAK5D,SAAL,CAAe4B,GAAf,CAAP;AACD;;AACD,eAAKS,SAAL,GAAiB,IAAjB;AACA,eAAKvC,WAAL,GAAmB,CAAnB;AACD,SArX+C,CAsXhD;;;AACAoG,QAAAA,YAAY,CAAClG,SAAD,EAAY;AACtB,gBAAM0B,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAY1B,SAAZ,CAAb;;AACA,eAAK,IAAIjB,CAAT,IAAc2C,IAAd,EAAoB;AAClB,kBAAME,GAAG,GAAGF,IAAI,CAAC3C,CAAD,CAAhB;AACA,kBAAMqD,GAAG,GAAGpC,SAAS,CAAC4B,GAAD,CAArB;AACAuE,YAAAA,OAAO,CAACC,GAAR,CAAYhE,GAAZ;AACD;AACF;;AA9X+C,O;;;;;iBAW1B,E;;;;;;;iBAKD,E;;;;;;;iBAKG,I;;;;;;;iBAEH,E;;;;;;;iBAMD,E","sourcesContent":["import {\n  _decorator,\n  Node,\n  Vec3,\n  ImageAsset,\n  Sprite,\n  SpriteFrame,\n  Texture2D,\n  UITransform,\n  Size,\n  Component,\n  UIOpacityComponent,\n  ScrollView,\n  UITransformComponent,\n  instantiate,\n} from \"cc\";\nimport { RoomScene } from \"../../Scenes/RoomScene\";\nimport AssetManager from \"../../DataManager/AssetManager\";\nimport { Deco, FileObject } from \"../../Prefabs/Deco/DecoTypes\";\nimport { uuidv4 } from \"../../Common/Module\";\nimport FileTitle from \"./FileTitle\";\nconst { ccclass, property } = _decorator;\n\n@ccclass(\"FileMaster\")\nexport default class FileMaster extends Component {\n  assetManager: AssetManager = null;\n  sceneScript: RoomScene = null;\n  decoDic: { [name: string]: Deco } = {};\n  // (1) file load element\n  inputBox = null;\n  inputBoxId = \"_filebox_container_\";\n  containerId = \"_filebox_input_\";\n\n  // (2) object element\n  @property(Node)\n  contentNode: Node[] = [];\n  objectDic: { [name: string]: FileObject } = {};\n\n  // (3) touchEvent\n  @property(Node)\n  scrollNode: Node[] = [];\n  activeObj = null;\n\n  // (4) Load Deco\n  @property(Node)\n  decoContentNode: Node = null;\n  @property(Node)\n  fileTitles: Node[] = [];\n  activeFileTitle = null;\n\n  // (5) Make Tab Function\n  selectedTab = 0;\n  @property(Node)\n  idxButton: Node[] = [];\n\n  async onLoad() {\n    this.assetManager = AssetManager.getInstance();\n    this.initFileBox();\n    this.initFileTitle();\n    this.node.on(Node.EventType.TOUCH_START, this.onTouchStart, this, true);\n    this.node.on(Node.EventType.TOUCH_MOVE, this.onTouchMove, this, true);\n    this.node.on(Node.EventType.TOUCH_END, this.onTouchEnd, this, true);\n    this.node.on(Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this, true);\n    // console.log(String(\"hello%d\", 1));\n\n    this.idxButton[0].setScale(new Vec3(1.0, 1.0, 1.0));\n    this.idxButton[1].setScale(new Vec3(0.75, 0.75, 0.75));\n    this.idxButton[2].setScale(new Vec3(0.75, 0.75, 0.75));\n  }\n\n  //file load function\n  initFileBox() {\n    if (!this.inputBox) {\n      let container = document.getElementById(this.containerId);\n      container = document.createElement(\"div\");\n      document.body.appendChild(container);\n      container.id = this.containerId;\n      container.style.setProperty(\"visibility\", \"hidden\");\n      let inputBox = document.createElement(\"input\") as HTMLInputElement;\n      inputBox.id = this.inputBoxId;\n      inputBox.type = \"file\";\n      inputBox.multiple = true;\n      inputBox.onchange = this.readFile.bind(this);\n      container.appendChild(inputBox);\n      this.inputBox = inputBox;\n    }\n  }\n  fileButtonClicked() {\n    if (this.inputBox) {\n      this.inputBox.click();\n    }\n  }\n  async readFile(fileInput) {\n    var uploadFiles = fileInput.target.files;\n    for (var i = 0; i < uploadFiles.length; i++) {\n      var file = uploadFiles[i];\n      var readerResult = (await this.readFileAsync(file)) as string;\n      const mimeType = readerResult.match(\n        /data:([a-zA-Z0-9]+\\/[a-zA-Z0-9-.+]+).*,.*/\n      )[1];\n      if (mimeType.indexOf(\"image\") < 0) {\n        continue;\n      }\n      var imgFile = (await this.readImgAsync(readerResult)) as any;\n      const imgNode = this.getImgNode(imgFile);\n      // save image\n      // this.sendImage(\"concept\", readerResult);\n\n      //set ObjectData\n      const object: FileObject = {} as FileObject;\n      object.id = uuidv4();\n      object.mimeType = mimeType;\n      object.file = readerResult;\n      object.img = imgFile;\n      object.node = imgNode;\n      object.tabIdx = this.selectedTab;\n      this.placeObject(imgNode, this.selectedTab);\n      this.objectDic[object.id] = object;\n      imgNode.on(\n        Node.EventType.TOUCH_START,\n        (event) => {\n          this.setActiveObj(object, event);\n        },\n        this,\n        true\n      );\n    }\n    // console.log(this.objectDic);\n  }\n  addImgObj(fileResult, tabIdx) {\n    const imgNode = this.getImgNode(fileResult.imgFile);\n    const object: FileObject = {} as FileObject;\n    object.id = uuidv4();\n    object.mimeType = \"png\";\n    object.file = fileResult.readerResult;\n    object.img = fileResult.imgFile;\n    object.node = imgNode;\n    object.tabIdx = tabIdx;\n    this.placeObject(imgNode, tabIdx);\n    this.objectDic[object.id] = object;\n    imgNode.on(\n      Node.EventType.TOUCH_START,\n      (event) => {\n        this.setActiveObj(object, event);\n      },\n      this,\n      true\n    );\n  }\n\n  // file load function\n  getImgNode(imgResult) {\n    // set sprite frame\n    const imgAsset = new ImageAsset(imgResult);\n    const spriteFrame = new SpriteFrame();\n    const tex = new Texture2D();\n    tex.image = imgAsset;\n    spriteFrame.texture = tex;\n\n    // set node\n    const node = instantiate(this.assetManager.prefabDic[\"ImageNode\"]);\n    node.getComponent(Sprite).spriteFrame = spriteFrame;\n    node.getComponent(UITransform).setContentSize(new Size(180, 180));\n    return node;\n  }\n  readFileAsync(file) {\n    return new Promise((resolve, reject) => {\n      let reader = new FileReader();\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.onerror = reject;\n      // reader.readAsArrayBuffer(file);\n      reader.readAsDataURL(file);\n    });\n  }\n  readImgAsync(fileResult) {\n    return new Promise((resolve, reject) => {\n      var img = new Image();\n      img.onload = () => {\n        resolve(img);\n      };\n      img.onerror = reject;\n      img.src = fileResult;\n    });\n  }\n  placeObject(imgNode, tabIdx) {\n    var objectLen = 0;\n    const keys = Object.keys(this.objectDic);\n    for (var i in keys) {\n      const key = keys[i];\n      if (this.objectDic[key].tabIdx == tabIdx) {\n        objectLen++;\n      }\n    }\n    const rowNum = objectLen % 4;\n    const columnNum = Math.floor(objectLen / 4);\n    imgNode.setPosition(\n      new Vec3(100 + rowNum * 220, -100 - columnNum * 220, 0)\n    );\n    this.contentNode[tabIdx].addChild(imgNode);\n    this.contentNode[tabIdx]\n      .getComponent(UITransform)\n      .setContentSize(new Size(900, 400 + columnNum * 220));\n    // console.log(imgNode);\n  }\n\n  // touch function\n  setActiveObj(obj: FileObject, event) {\n    this.activeObj = Object.assign({}, obj);\n    const imgNode = this.getImgNode(obj.img);\n    this.node.insertChild(imgNode, 99);\n    this.activeObj.node = imgNode;\n    const location = event.touch.getUILocation();\n    this.activeObj.node.setWorldPosition(new Vec3(location.x, location.y, 1));\n    (\n      this.scrollNode[this.selectedTab].getComponent(ScrollView) as ScrollView\n    ).vertical = false;\n  }\n\n  onTouchStart(event) {\n    if (this.activeObj) {\n      const location = event.touch.getUILocation();\n      this.activeObj.node.setWorldPosition(new Vec3(location.x, location.y, 1));\n    }\n  }\n\n  onTouchMove(event) {\n    if (this.activeObj) {\n      const location = event.touch.getUILocation();\n      this.activeObj.node.setWorldPosition(new Vec3(location.x, location.y, 1));\n      if (location.x <= 900) {\n        this.activeFileTitle = null;\n        for (var i in this.fileTitles) {\n          const fileTitleNode = this.fileTitles[i];\n          (fileTitleNode.getComponent(FileTitle) as FileTitle).setActive(false);\n          if (Math.abs(fileTitleNode.getWorldPosition().y - location.y) <= 75) {\n            this.activeFileTitle = fileTitleNode;\n          }\n        }\n        if (this.activeFileTitle) {\n          (this.activeFileTitle.getComponent(FileTitle) as FileTitle).setActive(\n            true\n          );\n        }\n      } else if (location.x >= 1800) {\n        this.sceneScript.replaceDeco(\"touchMove\", location);\n      }\n    }\n  }\n  onTouchEnd(event) {\n    // console.log(\"touc end\", event);\n    if (!event.simulate && this.activeObj) {\n      if (this.activeFileTitle) {\n        const fileTitle = this.activeFileTitle.getComponent(\n          FileTitle\n        ) as FileTitle;\n        fileTitle.setActive(false);\n        this.addDecoData(this.activeObj, fileTitle.tag);\n        this.activeFileTitle = null;\n      }\n      if (this.activeObj.node) {\n        this.activeObj.node.removeFromParent();\n      }\n      // send date to room scene\n      const location = event.touch.getUILocation();\n      if (location.x >= 1800) {\n        this.sceneScript.replaceDeco(\"touchEnd\", location, this.activeObj);\n      }\n      this.activeObj = null;\n      (\n        this.scrollNode[this.selectedTab].getComponent(ScrollView) as ScrollView\n      ).vertical = true;\n    }\n  }\n  // update Deco Data\n  initFileTitle() {\n    const labelArray = [\"전체(0)\", \"바닥(0)\", \"왼쪽 벽(0)\", \"오른쪽 벽(0)\"];\n    const tagArray = [\"00\", \"01\", \"02\", \"03\"];\n    for (var i in this.fileTitles) {\n      const fileTitle = this.fileTitles[i].getComponent(FileTitle) as FileTitle;\n      fileTitle.setLabel(labelArray[i]);\n      fileTitle.tag = tagArray[i];\n      fileTitle.fileMaster = this;\n    }\n  }\n  addDecoData(obj, tag) {\n    if (this.sceneScript) {\n      this.sceneScript.addDecoData(obj, tag);\n    }\n  }\n  updateFileMaster() {\n    // console.log(\"hi\", this.decoDic);\n    const keys = Object.keys(this.decoDic);\n    const decoDatas = {};\n    decoDatas[\"00\"] = [];\n    decoDatas[\"01\"] = [];\n    decoDatas[\"02\"] = [];\n    decoDatas[\"03\"] = [];\n    for (var i in keys) {\n      const placeType = this.decoDic[keys[i]].placeType;\n      decoDatas[placeType].push(this.decoDic[keys[i]]);\n    }\n    // console.log(decoDatas);\n    const labelArray = [\"전체(%d)\", \"바닥(%d)\", \"왼쪽 벽(%d)\", \"오른쪽 벽(%d)\"];\n    const tagArray = [\"00\", \"01\", \"02\", \"03\"];\n    let yPosition = -100;\n    const yDiff = 70;\n    for (var i in this.fileTitles) {\n      const fileTitle = this.fileTitles[i].getComponent(FileTitle) as FileTitle;\n      const fileDatas = decoDatas[tagArray[i]];\n      fileTitle.setLabel(labelArray[i].replace(\"%d\", String(fileDatas.length)));\n\n      fileDatas.sort((a, b) => (a.zOrder > b.zOrder && 1) || -1);\n      fileTitle.setFileData(fileDatas);\n\n      this.fileTitles[i].setPosition(new Vec3(0, yPosition, 1));\n      const titleSize = fileTitle.getTitleSize();\n      yPosition = yPosition - yDiff - titleSize.y;\n    }\n    this.decoContentNode\n      .getComponent(UITransformComponent)\n      .setContentSize(new Size(900, -yPosition));\n  }\n  onFileSelected(fileData) {\n    if (this.sceneScript) {\n      this.sceneScript.onFileSelected(fileData);\n    }\n  }\n  onChangeOrder(fileData: Deco, kind) {\n    const placeType = fileData.placeType;\n    const zOrder = fileData.zOrder;\n    let targetData: Deco | null = null;\n    if (kind == \"up\") {\n      const keys = Object.keys(this.decoDic);\n      let targetOrder = 0;\n      for (var i in keys) {\n        if (placeType == this.decoDic[keys[i]].placeType) {\n          if (\n            this.decoDic[keys[i]].zOrder > targetOrder &&\n            this.decoDic[keys[i]].zOrder < zOrder\n          ) {\n            targetOrder = this.decoDic[keys[i]].zOrder;\n            targetData = this.decoDic[keys[i]];\n          }\n        }\n      }\n    } else if (kind == \"down\") {\n      const keys = Object.keys(this.decoDic);\n      let targetOrder = 100;\n      for (var i in keys) {\n        if (placeType == this.decoDic[keys[i]].placeType) {\n          if (\n            this.decoDic[keys[i]].zOrder < targetOrder &&\n            this.decoDic[keys[i]].zOrder > zOrder\n          ) {\n            targetOrder = this.decoDic[keys[i]].zOrder;\n            targetData = this.decoDic[keys[i]];\n          }\n        }\n      }\n    }\n    //// chaget order\n    if (targetData) {\n      const targetOrder = targetData.zOrder;\n      const targetSibling = targetData.node.getSiblingIndex();\n      const fileSibling = fileData.node.getSiblingIndex();\n      fileData.zOrder = targetOrder;\n      targetData.zOrder = zOrder;\n      fileData.node.setSiblingIndex(targetSibling);\n      targetData.node.setSiblingIndex(fileSibling);\n      this.updateFileMaster();\n    }\n  }\n  /////////////\n  selectedTabClicked(node, idx) {\n    const tabIdx = Number(idx);\n    this.selectedTab = tabIdx;\n    for (var i in this.scrollNode) {\n      this.scrollNode[i].active = false;\n      this.idxButton[i].setScale(new Vec3(0.75, 0.75, 0.75));\n    }\n    this.scrollNode[idx].active = true;\n    this.idxButton[idx].setScale(new Vec3(1.0, 1.0, 1.0));\n  }\n  removeObjDic() {\n    const keys = Object.keys(this.objectDic);\n    for (var i in keys) {\n      const key = keys[i];\n      const object = this.objectDic[key];\n      if (object.node) {\n        object.node.removeFromParent();\n      }\n      delete this.objectDic[key];\n    }\n    this.activeObj = null;\n    this.selectedTab = 0;\n  }\n  //\n  updateObjDic(objectDic) {\n    const keys = Object.keys(objectDic);\n    for (var i in keys) {\n      const key = keys[i];\n      const obj = objectDic[key];\n      console.log(obj);\n    }\n  }\n}\n"]}