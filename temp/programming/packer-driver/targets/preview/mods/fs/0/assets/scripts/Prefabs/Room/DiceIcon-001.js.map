{"version":3,"sources":["file:///Users/david/Desktop/David/cocos/slot_deco/assets/scripts/Prefabs/Room/DiceIcon-001.ts"],"names":["_decorator","Component","Node","UITransform","Sprite","Label","AssetManager","ccclass","property","DiceIcon","diceIdx","backKind","iconKind","initIcon","iconIdx","slotData","assetManager","getInstance","diceData","iconData","backNode","getComponent","setContentSize","iconSize","iconSprite","iconNode","spriteFrame","assetDic","backSprite","numberNode","string","String","changeIcon","updateNumber"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AACEA,MAAAA,U,OAAAA,U;AACAC,MAAAA,S,OAAAA,S;AACAC,MAAAA,I,OAAAA,I;AACAC,MAAAA,W,OAAAA,W;AACAC,MAAAA,M,OAAAA,M;AACAC,MAAAA,K,OAAAA,K;;AAKKC,MAAAA,Y;;;;;;;AAFCC,MAAAA,O,GAAsBP,U,CAAtBO,O;AAASC,MAAAA,Q,GAAaR,U,CAAbQ,Q;;yBAKIC,Q,WADpBF,OAAO,CAAC,UAAD,C,UAELC,QAAQ,CAACN,IAAD,C,UAERM,QAAQ,CAACN,IAAD,C,UAERM,QAAQ,CAACN,IAAD,C;;;;;;;;;;;;;;;;;;;;qEAGE;AACTQ,YAAAA,OAAO,EAAE,GADA;AAETC,YAAAA,QAAQ,EAAE,CAFD;AAGTC,YAAAA,QAAQ,EAAE;AAHD,W;;yEAKkB,I;;;;;;;eAC7BC,Q,GAAA,kBAASC,OAAT,EAAkBH,QAAlB,EAA4BI,QAA5B,EAAsC;AACpC,eAAKC,YAAL,GAAoB;AAAA;AAAA,4CAAaC,WAAb,EAApB;AACA,eAAKC,QAAL,GAAgBH,QAAhB;AACA,eAAKI,QAAL,CAAcP,QAAd,GAAyBE,OAAzB;AACA,eAAKK,QAAL,CAAcR,QAAd,GAAyBA,QAAzB;AACA,eAAKS,QAAL,CAAcC,YAAd,CAA2BlB,WAA3B,EAAwCmB,cAAxC,CAAuDP,QAAQ,CAACQ,QAAhE;AACA,cAAMC,UAAU,GAAG,KAAKC,QAAL,CAAcJ,YAAd,CAA2BjB,MAA3B,CAAnB;AACAoB,UAAAA,UAAU,CAACE,WAAX,GACE,KAAKV,YAAL,CAAkBW,QAAlB,CAA2B,gBAAgBb,OAAhB,GAA0B,IAArD,CADF;AAEA,cAAMc,UAAU,GAAG,KAAKR,QAAL,CAAcC,YAAd,CAA2BjB,MAA3B,CAAnB;AACAwB,UAAAA,UAAU,CAACF,WAAX,GAAyB,KAAKV,YAAL,CAAkBW,QAAlB,CAA2B,cAAchB,QAAzC,CAAzB;AACA,eAAKkB,UAAL,CAAgBR,YAAhB,CAA6BhB,KAA7B,EAAoCyB,MAApC,GAA6CC,MAAM,CAAC,KAAKZ,QAAL,CAAcT,OAAf,CAAnD;AACD,S;;eACDsB,U,GAAA,oBAAWlB,OAAX,EAAoB;AAClB,cAAMU,UAAU,GAAG,KAAKC,QAAL,CAAcJ,YAAd,CAA2BjB,MAA3B,CAAnB;AACAoB,UAAAA,UAAU,CAACE,WAAX,GACE,KAAKV,YAAL,CAAkBW,QAAlB,CAA2B,gBAAgBb,OAAhB,GAA0B,IAArD,CADF;AAED,S;;eACDmB,Y,GAAA,sBAAavB,OAAb,EAAuB;AACrB,cAAIqB,MAAM,CAACrB,OAAD,CAAV,EAAqB;AACnB,iBAAKS,QAAL,CAAcT,OAAd,GAAwBqB,MAAM,CAACrB,OAAD,CAA9B;AACD;;AACD,eAAKmB,UAAL,CAAgBR,YAAhB,CAA6BhB,KAA7B,EAAoCyB,MAApC,GAA6CC,MAAM,CAAC,KAAKZ,QAAL,CAAcT,OAAf,CAAnD;AACD,S;;;QArCmCT,S;;;;;iBAEZ,I;;;;;;;iBAEA,I;;;;;;;iBAEE,I","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  UITransform,\n  Sprite,\n  Label,\n  tween,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\n\nimport AssetManager from \"../../DataManager/AssetManager\";\n\n@ccclass(\"DiceIcon\")\nexport default class DiceIcon extends Component {\n  @property(Node)\n  backNode: Node | null = null;\n  @property(Node)\n  iconNode: Node | null = null;\n  @property(Node)\n  numberNode: Node | null = null;\n  diceData: any;\n  iconData = {\n    diceIdx: \"0\",\n    backKind: 0,\n    iconKind: 0,\n  };\n  assetManager: AssetManager = null;\n  initIcon(iconIdx, backKind, slotData) {\n    this.assetManager = AssetManager.getInstance();\n    this.diceData = slotData;\n    this.iconData.iconKind = iconIdx;\n    this.iconData.backKind = backKind;\n    this.backNode.getComponent(UITransform).setContentSize(slotData.iconSize);\n    const iconSprite = this.iconNode.getComponent(Sprite);\n    iconSprite.spriteFrame =\n      this.assetManager.assetDic[\"Slot/candy_\" + iconIdx + \"_0\"];\n    const backSprite = this.backNode.getComponent(Sprite);\n    backSprite.spriteFrame = this.assetManager.assetDic[\"Slot/back\" + backKind];\n    this.numberNode.getComponent(Label).string = String(this.iconData.diceIdx);\n  }\n  changeIcon(iconIdx) {\n    const iconSprite = this.iconNode.getComponent(Sprite);\n    iconSprite.spriteFrame =\n      this.assetManager.assetDic[\"Slot/candy_\" + iconIdx + \"_0\"];\n  }\n  updateNumber(diceIdx?) {\n    if (String(diceIdx)) {\n      this.iconData.diceIdx = String(diceIdx);\n    }\n    this.numberNode.getComponent(Label).string = String(this.iconData.diceIdx);\n  }\n}\n"]}