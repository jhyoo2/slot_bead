{"version":3,"sources":["file:///Users/david/Desktop/David/cocos/slot_bead/assets/scripts/Prefabs/Dice/DiceIcon.ts"],"names":["_decorator","Component","Node","UITransform","Sprite","Label","Vec3","AssetManager","ccclass","property","DiceIcon","diceIdx","backKind","iconKind","initIcon","iconIdx","slotData","assetManager","getInstance","diceData","iconData","backNode","getComponent","setContentSize","iconSize","iconSprite","iconNode","spriteFrame","assetDic","sizeMode","SizeMode","RAW","trim","setScale","active","backSprite","numberNode","string","String","changeIcon","updateNumber"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AACEA,MAAAA,U,OAAAA,U;AACAC,MAAAA,S,OAAAA,S;AACAC,MAAAA,I,OAAAA,I;AACAC,MAAAA,W,OAAAA,W;AACAC,MAAAA,M,OAAAA,M;AACAC,MAAAA,K,OAAAA,K;AAEAC,MAAAA,I,OAAAA,I;;AAIKC,MAAAA,Y;;;;;;;AAFCC,MAAAA,O,GAAsBR,U,CAAtBQ,O;AAASC,MAAAA,Q,GAAaT,U,CAAbS,Q;;yBAKIC,Q,WADpBF,OAAO,CAAC,UAAD,C,UAELC,QAAQ,CAACP,IAAD,C,UAERO,QAAQ,CAACP,IAAD,C,UAERO,QAAQ,CAACP,IAAD,C;;;;;;;;;;;;;;;;;;;;oEAGC,C;;qEACC;AACTS,YAAAA,OAAO,EAAE,GADA;AAETC,YAAAA,QAAQ,EAAE,CAFD;AAGTC,YAAAA,QAAQ,EAAE;AAHD,W;;yEAKkB,I;;;;;;;eAC7BC,Q,GAAA,kBAASC,OAAT,EAAkBH,QAAlB,EAA4BI,QAA5B,EAAsC;AACpC,eAAKC,YAAL,GAAoB;AAAA;AAAA,4CAAaC,WAAb,EAApB;AACA,eAAKC,QAAL,GAAgBH,QAAhB;AACA,eAAKI,QAAL,CAAcP,QAAd,GAAyBE,OAAzB;AACA,eAAKK,QAAL,CAAcR,QAAd,GAAyBA,QAAzB;AACA,eAAKS,QAAL,CAAcC,YAAd,CAA2BnB,WAA3B,EAAwCoB,cAAxC,CAAuDP,QAAQ,CAACQ,QAAhE;AACA,cAAMC,UAAU,GAAG,KAAKC,QAAL,CAAcJ,YAAd,CAA2BlB,MAA3B,CAAnB;AACAqB,UAAAA,UAAU,CAACE,WAAX,GACE,KAAKV,YAAL,CAAkBW,QAAlB,CAA2B,oBAAoBb,OAA/C,CADF;AAEAU,UAAAA,UAAU,CAACI,QAAX,GAAsBzB,MAAM,CAAC0B,QAAP,CAAgBC,GAAtC;AACAN,UAAAA,UAAU,CAACO,IAAX,GAAkB,IAAlB;AACA,eAAKN,QAAL,CAAcO,QAAd,CAAuB,IAAI3B,IAAJ,CAAS,IAAT,EAAe,IAAf,EAAqB,IAArB,CAAvB;AACA,eAAKe,QAAL,CAAca,MAAd,GAAuB,KAAvB;AACA,cAAMC,UAAU,GAAG,KAAKd,QAAL,CAAcC,YAAd,CAA2BlB,MAA3B,CAAnB;AACA+B,UAAAA,UAAU,CAACR,WAAX,GAAyB,KAAKV,YAAL,CAAkBW,QAAlB,CAA2B,cAAchB,QAAzC,CAAzB;AACA,eAAKwB,UAAL,CAAgBd,YAAhB,CAA6BjB,KAA7B,EAAoCgC,MAApC,GAA6CC,MAAM,CAAC,KAAKlB,QAAL,CAAcT,OAAf,CAAnD;AACD,S;;eACD4B,U,GAAA,oBAAWxB,OAAX,EAAoB;AAClB,cAAMU,UAAU,GAAG,KAAKC,QAAL,CAAcJ,YAAd,CAA2BlB,MAA3B,CAAnB;AACAqB,UAAAA,UAAU,CAACE,WAAX,GACE,KAAKV,YAAL,CAAkBW,QAAlB,CAA2B,oBAAoBb,OAA/C,CADF;AAED,S;;eACDyB,Y,GAAA,sBAAa7B,OAAb,EAAuB;AACrB,cAAI2B,MAAM,CAAC3B,OAAD,CAAV,EAAqB;AACnB,iBAAKS,QAAL,CAAcT,OAAd,GAAwB2B,MAAM,CAAC3B,OAAD,CAA9B;AACD;;AACD,eAAKyB,UAAL,CAAgBd,YAAhB,CAA6BjB,KAA7B,EAAoCgC,MAApC,GAA6CC,MAAM,CAAC,KAAKlB,QAAL,CAAcT,OAAf,CAAnD;AACD,S;;;QA1CmCV,S;;;;;iBAEZ,I;;;;;;;iBAEA,I;;;;;;;iBAEE,I","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  UITransform,\n  Sprite,\n  Label,\n  tween,\n  Vec3,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\n\nimport AssetManager from \"../../DataManager/AssetManager\";\n\n@ccclass(\"DiceIcon\")\nexport default class DiceIcon extends Component {\n  @property(Node)\n  backNode: Node | null = null;\n  @property(Node)\n  iconNode: Node | null = null;\n  @property(Node)\n  numberNode: Node | null = null;\n  diceData: any;\n  diceIdx = 0;\n  iconData = {\n    diceIdx: \"0\",\n    backKind: 0,\n    iconKind: 0,\n  };\n  assetManager: AssetManager = null;\n  initIcon(iconIdx, backKind, slotData) {\n    this.assetManager = AssetManager.getInstance();\n    this.diceData = slotData;\n    this.iconData.iconKind = iconIdx;\n    this.iconData.backKind = backKind;\n    this.backNode.getComponent(UITransform).setContentSize(slotData.iconSize);\n    const iconSprite = this.iconNode.getComponent(Sprite);\n    iconSprite.spriteFrame =\n      this.assetManager.assetDic[\"DiceScene/Cube0\" + iconIdx];\n    iconSprite.sizeMode = Sprite.SizeMode.RAW;\n    iconSprite.trim = true;\n    this.iconNode.setScale(new Vec3(0.75, 0.75, 0.75));\n    this.backNode.active = false;\n    const backSprite = this.backNode.getComponent(Sprite);\n    backSprite.spriteFrame = this.assetManager.assetDic[\"Slot/back\" + backKind];\n    this.numberNode.getComponent(Label).string = String(this.iconData.diceIdx);\n  }\n  changeIcon(iconIdx) {\n    const iconSprite = this.iconNode.getComponent(Sprite);\n    iconSprite.spriteFrame =\n      this.assetManager.assetDic[\"DiceScene/Cube0\" + iconIdx];\n  }\n  updateNumber(diceIdx?) {\n    if (String(diceIdx)) {\n      this.iconData.diceIdx = String(diceIdx);\n    }\n    this.numberNode.getComponent(Label).string = String(this.iconData.diceIdx);\n  }\n}\n"]}