{"version":3,"sources":["file:///Users/david/Desktop/David/cocos/slot_bead/assets/scripts/Prefabs/Deco/DecoMaster.ts"],"names":["_decorator","Component","Node","Slider","ToggleComponent","Vec3","Sprite","SpriteFrame","Texture2D","ImageAsset","AssetManager","VectorList","ccclass","property","DecoMaster","onLoad","assetManager","getInstance","kindScript","kindNode","getComponent","setDataList","tag","label","callback","idx","decoData","setDecoData","placeScript","placeNode","anchorScript","anchorNode","pointScript","pointNode","vec","stackSizeScript","stackSizeNode","objectSizeNode","setObjectData","objectPointNode","minNum","update","dt","setLabel","decoType","placeType","anchorType","decoPoint","stackableScript","stackToggleNode","isChecked","stackable","objectArray","selectedDeco","objectSize","objectPoint","i","objectIdxArray","buttonNode","Number","setScale","selectedIdx","updateObjectImg","kind","obj","sceneScript","resetDecoObject","resetLabel","opacityNode","progress","eraseClicked","eraseDeco","sliderEvent","node","toggleEvent","selectDecoIdx","setSelectedDeco","imgNode","spriteFrame","assetDic","shadowFrame","shadowNode","replaceImg","imgObject","imgAsset","img","tex","image","texture"],"mappings":"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","sourcesContent":["import {\n  _decorator,\n  Component,\n  Node,\n  Slider,\n  ToggleComponent,\n  Vec3,\n  Sprite,\n  SpriteFrame,\n  Texture2D,\n  ImageAsset,\n} from \"cc\";\nimport { RoomScene } from \"../../Scenes/RoomScene\";\nimport { Deco } from \"../../Prefabs/Deco/DecoTypes\";\nimport AssetManager from \"../../DataManager/AssetManager\";\nimport ListView from \"./ListView\";\nimport VectorList from \"./VectorList\";\nconst { ccclass, property } = _decorator;\n\n@ccclass(\"DecoMaster\")\nexport default class DecoMaster extends Component {\n  assetManager: AssetManager = null;\n  @property(Node)\n  kindNode: Node | null = null;\n  @property(Node)\n  placeNode: Node | null = null;\n  @property(Node)\n  anchorNode: Node | null = null;\n  @property(Node)\n  pointNode: Node | null = null;\n  @property(Node)\n  opacityNode: Node | null = null;\n  @property(Node)\n  stackToggleNode: Node | null = null;\n  @property(Node)\n  stackSizeNode: Node | null = null;\n  ////////////////\n  @property(Node)\n  objectIdxArray: Node[] = [];\n  @property(Node)\n  objectSizeNode: Node | null = null;\n  @property(Node)\n  objectPointNode: Node | null = null;\n  @property(Node)\n  imgNode: Node | null = null;\n  @property(Node)\n  shadowNode: Node | null = null;\n  selectedIdx = -1;\n  ////////////////\n  sceneScript: RoomScene = null;\n  decoData: Deco = null;\n  async onLoad() {\n    this.assetManager = AssetManager.getInstance();\n    const kindScript = this.kindNode.getComponent(\"ListView\") as ListView;\n    // console.log(this.kindNode);\n    kindScript.setDataList([\n      { tag: \"00\", label: \"미설정\" },\n      { tag: \"01\", label: \"바닥타일\" },\n      { tag: \"02\", label: \"벽지\" },\n      { tag: \"03\", label: \"세입자\" },\n      { tag: \"04\", label: \"테이블\" },\n      { tag: \"05\", label: \"의자\" },\n      { tag: \"06\", label: \"창문\" },\n      { tag: \"07\", label: \"카펫\" },\n      { tag: \"08\", label: \"소품\" },\n      { tag: \"09\", label: \"벽장식\" },\n      { tag: \"10\", label: \"기타가구\" },\n    ]);\n    kindScript.callback = (idx) => {\n      if (!this.decoData) {\n        return false;\n      }\n      this.setDecoData(\"decoType\", idx);\n      return true;\n    };\n    const placeScript = this.placeNode.getComponent(\"ListView\") as ListView;\n    placeScript.setDataList([\n      { tag: \"00\", label: \"미설정\" },\n      { tag: \"01\", label: \"바닥\" },\n      { tag: \"02\", label: \"좌측 벽\" },\n      { tag: \"03\", label: \"우측 벽\" },\n      { tag: \"04\", label: \"양측 벽\" },\n    ]);\n    placeScript.callback = (idx) => {\n      this.setDecoData(\"placeType\", idx);\n    };\n    const anchorScript = this.anchorNode.getComponent(\"ListView\") as ListView;\n    anchorScript.setDataList([\n      { tag: \"00\", label: \"중앙\" },\n      { tag: \"01\", label: \"아래쪽\" },\n      { tag: \"02\", label: \"왼쪽\" },\n      { tag: \"03\", label: \"오른쪽\" },\n    ]);\n    anchorScript.callback = (idx) => {\n      this.setDecoData(\"anchorType\", idx);\n    };\n    const pointScript = this.pointNode.getComponent(\"VectorList\") as VectorList;\n    pointScript.callback = (vec) => {\n      this.setDecoData(\"decoPoint\", vec);\n    };\n    const stackSizeScript = this.stackSizeNode.getComponent(\n      \"VectorList\"\n    ) as VectorList;\n    stackSizeScript.callback = (vec) => {\n      this.setDecoData(\"stackSize\", vec);\n    };\n    /////////////////\n    this.objectSizeNode.getComponent(VectorList).callback = (vec) => {\n      this.setObjectData(\"objectSize\", vec);\n    };\n    this.objectPointNode.getComponent(VectorList).callback = (vec) => {\n      this.setObjectData(\"objectPoint\", vec);\n    };\n    this.objectPointNode.getComponent(VectorList).minNum = -18;\n  }\n\n  update(dt) {\n    if (this.decoData) {\n      const kindScript = this.kindNode.getComponent(\"ListView\") as ListView;\n      kindScript.setLabel(this.decoData.decoType);\n      const placeScript = this.placeNode.getComponent(\"ListView\") as ListView;\n      placeScript.setLabel(this.decoData.placeType);\n      const anchorScript = this.anchorNode.getComponent(\"ListView\") as ListView;\n      anchorScript.setLabel(this.decoData.anchorType);\n      const pointScript = this.pointNode.getComponent(\"VectorList\") as ListView;\n      pointScript.setLabel(this.decoData.decoPoint);\n      const stackableScript = this.stackToggleNode.getComponent(\n        ToggleComponent\n      ) as ToggleComponent;\n      stackableScript.isChecked = this.decoData.stackable;\n      // this.opacityNode.getComponent(Slider).progress = this.decoData.opacity;\n      this.objectSizeNode\n        .getComponent(VectorList)\n        .setLabel(\n          this.decoData.objectArray[this.decoData.selectedDeco].objectSize\n        );\n      this.objectPointNode\n        .getComponent(VectorList)\n        .setLabel(\n          this.decoData.objectArray[this.decoData.selectedDeco].objectPoint\n        );\n      // this.objectPointNode.active = this.decoData.selectedDeco != 0;\n      for (var i in this.objectIdxArray) {\n        const buttonNode = this.objectIdxArray[i];\n        if (Number(i) == this.decoData.selectedDeco) {\n          buttonNode.setScale(new Vec3(1.0, 1.0, 1.0));\n        } else {\n          buttonNode.setScale(new Vec3(0.75, 0.75, 0.75));\n        }\n      }\n      if (this.decoData.selectedDeco != this.selectedIdx) {\n        this.selectedIdx = this.decoData.selectedDeco;\n        this.updateObjectImg();\n      }\n    }\n  }\n  setDecoData(kind, obj) {\n    if (this.sceneScript && this.decoData) {\n      this.sceneScript.setDecoData(kind, obj);\n    }\n  }\n  setObjectData(kind, obj) {\n    // console.log(kind, obj);\n    if (this.sceneScript && this.decoData) {\n      this.sceneScript.setObjectData(kind, obj);\n    }\n  }\n  resetDecoObject() {\n    this.selectedIdx = -1;\n    this.decoData = null;\n    const kindScript = this.kindNode.getComponent(\"ListView\") as ListView;\n    kindScript.resetLabel();\n    const placeScript = this.placeNode.getComponent(\"ListView\") as ListView;\n    placeScript.resetLabel();\n    const anchorScript = this.anchorNode.getComponent(\"ListView\") as ListView;\n    anchorScript.resetLabel();\n    const pointScript = this.pointNode.getComponent(\"VectorList\") as VectorList;\n    pointScript.resetLabel();\n    this.opacityNode.getComponent(Slider).progress = 1.0;\n    // console.log(this.decoData);\n    this.objectSizeNode.getComponent(VectorList).resetLabel();\n    this.objectPointNode.getComponent(VectorList).resetLabel();\n  }\n  eraseClicked() {\n    if (this.sceneScript && this.decoData) {\n      this.sceneScript.eraseDeco();\n    }\n  }\n  sliderEvent(node, kind) {\n    if (kind == \"opacity\") {\n      this.setDecoData(\"opacity\", {\n        tag: this.opacityNode.getComponent(Slider).progress,\n      });\n    }\n  }\n  toggleEvent(node, kind) {\n    this.setDecoData(\"stackable\", { tag: node.isChecked });\n  }\n  selectDecoIdx(node, idx) {\n    if (this.decoData) {\n      this.sceneScript.setSelectedDeco(Number(idx));\n    }\n  }\n  updateObjectImg() {\n    if (!this.decoData) {\n      this.imgNode.getComponent(Sprite).spriteFrame =\n        this.assetManager.assetDic[\"Deco/default_sprite\"];\n      return;\n    }\n    if (this.decoData.objectArray[this.selectedIdx].spriteFrame) {\n      this.imgNode.getComponent(Sprite).spriteFrame =\n        this.decoData.objectArray[this.selectedIdx].spriteFrame;\n    } else {\n      this.imgNode.getComponent(Sprite).spriteFrame =\n        this.assetManager.assetDic[\"Deco/default_sprite\"];\n    }\n    if (this.decoData.objectArray[this.selectedIdx].shadowFrame) {\n      this.shadowNode.getComponent(Sprite).spriteFrame =\n        this.decoData.objectArray[this.selectedIdx].shadowFrame;\n    } else {\n      this.shadowNode.getComponent(Sprite).spriteFrame =\n        this.assetManager.assetDic[\"Deco/default_sprite\"];\n    }\n  }\n  replaceImg(kind, imgObject) {\n    // console.log(kind, imgObject);\n    const imgAsset = new ImageAsset(imgObject.img);\n    const spriteFrame = new SpriteFrame();\n    const tex = new Texture2D();\n    tex.image = imgAsset;\n    spriteFrame.texture = tex;\n    if (kind == 0) {\n      this.imgNode.getComponent(Sprite).spriteFrame = spriteFrame;\n    } else if (kind == 1) {\n      this.shadowNode.getComponent(Sprite).spriteFrame = spriteFrame;\n    }\n    // this.sceneScript.replaceObjImage(kind, imgObject);\n  }\n}\n"]}